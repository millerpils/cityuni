<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>London City University - Photos</title>
    <style>
      img {
        margin: 10px;
      }

      .container {
        max-width: 1200px;
        margin: 50px auto 0 auto;
        text-align: center;
      }

      .lazyload,
      .lazyloading {
        opacity: 0;
        transition: opacity 400ms;
      }
 
      img.lazyloaded {
          opacity: 1;
      }
    </style>
  </head>
  <body>

    <div class="container">
      <div id="photos"></div>
    </div>

    <script>
      // create a request variable and assign a new XMLHttpRequest object to it
      var request = new XMLHttpRequest();

      // specify expected response type
      request.responseType = 'json';

      // open a new async connection, using the GET request on the URL endpoint
      request.open('GET', 'https://jsonplaceholder.typicode.com/photos', true);

      // send the request
      request.send();
      
      // process the response
      request.onload = function() {
        var jsonObj = request.response;

        if (request.status >= 200 && request.status < 400) {
          for (var i = 0; i < 200; i++) {
            var photo = document.createElement('img');
            photo.setAttribute("class", "photos__photo lazyload");
            photo.setAttribute("data-src", jsonObj[i].thumbnailUrl);
            document.getElementById("photos").appendChild(photo);
          }
        } else {
          var errorMessage = document.createElement('h1');
          errorMessage.textContent = "There's been a problem :(";
          document.getElementById("photos").appendChild(errorMessage);
        }
      }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@8.17.0/dist/lazyload.min.js"></script>
  </body>
</html>